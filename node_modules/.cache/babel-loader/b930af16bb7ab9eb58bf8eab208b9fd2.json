{"ast":null,"code":"import _classCallCheck from\"C:/Users/UsamaArain/Desktop/NodeJs/smartbrain/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/UsamaArain/Desktop/NodeJs/smartbrain/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/UsamaArain/Desktop/NodeJs/smartbrain/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/UsamaArain/Desktop/NodeJs/smartbrain/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./App.css';import Navigation from'./components/Navigation/Navigation';import Clarifai from'clarifai';import Logo from'./components/Logo/Logo';import Signin from'./components/Signin/Signin';import Register from'./components/Register/Register';import Rank from'./components/Rank/Rank';import ImageLinkForm from'./components/ImageLinkForm/ImageLinkForm';import Particles from'react-particles-js';import ImageRecognition from'./components/ImageRecognition/ImageRecognition';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var config={\"particles\":{\"number\":{\"value\":80,\"density\":{\"enable\":true,\"value_area\":800}}}};//You must add your own API key here from Clarifai.\nvar app=new Clarifai.App({apiKey:'7ebc9459b3ef4a1da7ee52e6b32c58cb'});var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.calculateFaceLocation=function(data){var clarifaiFace=data.outputs[0].data.regions[0].region_info.bounding_box;var image=document.getElementById('inputimage');var width=Number(image.width);var height=Number(image.height);return{leftCol:clarifaiFace.left_col*width,topRow:clarifaiFace.top_row*height,rightCol:width-clarifaiFace.right_col*width,bottomRow:height-clarifaiFace.bottom_row*height};};_this.displayFaceBox=function(box){console.log(box);_this.setState({box:box});};_this.onInputChange=function(event){_this.setState({input:event.target.value});// console.log(event.target.value)\n};_this.onButtonPress=function(event){_this.setState({imageUrl:_this.state.input});app.models.predict(// HEADS UP! Sometimes the Clarifai Models can be down or not working as they are constantly getting updated.\n// A good way to check if the model you are using is up, is to check them on the clarifai website. For example,\n// for the Face Detect Mode: https://www.clarifai.com/models/face-detection\n// If that isn't working, then that means you will have to wait until their servers are back up. Another solution\n// is to use a different version of their model that works like: `c0c0ac362b03416da06ab3fa36fb58e3`\n// so you would change from:\n// .predict(Clarifai.FACE_DETECT_MODEL, this.state.input)\n// to:\n// .predict('c0c0ac362b03416da06ab3fa36fb58e3', this.state.input)\nClarifai.FACE_DETECT_MODEL,_this.state.input).then(function(response){// console.log('hi', response.outputs[0].data.regions[0].region_info.bounding_box)\n// if (response) {\n// fetch('http://localhost:3000/image', {\n//   method: 'put',\n//   headers: {'Content-Type': 'application/json'},\n//   body: JSON.stringify({\n//     id: this.state.user.id\n//   })\n// })\n//   .then(response => response.json())\n// .then(count => {\n//   this.setState(Object.assign(this.state.user, { entries: count}))\n// })\n// }\n_this.displayFaceBox(_this.calculateFaceLocation(response));}).catch(function(err){return console.log(err);});};_this.onRouteChange=function(route){if(route==='home'){_this.setState({isSignedIn:true});}else if(route==='signout'){_this.setState({isSignedIn:false});}_this.setState({route:route});};_this.state={input:'',imageUrl:'',box:{},route:'signin',isSignedIn:false};return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this$state=this.state,isSignedIn=_this$state.isSignedIn,route=_this$state.route,input=_this$state.input,imageUrl=_this$state.imageUrl,box=_this$state.box;return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Particles,{className:\"particles\",params:config}),/*#__PURE__*/_jsx(Navigation,{isSignedIn:isSignedIn,onRouteChange:this.onRouteChange}),route==='home'?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsx(Rank,{}),/*#__PURE__*/_jsx(ImageLinkForm,{onInputChange:this.onInputChange,onButtonPress:this.onButtonPress}),/*#__PURE__*/_jsx(ImageRecognition,{box:box,imageUrl:input})]}):route==='signin'?/*#__PURE__*/_jsx(Signin,{onRouteChange:this.onRouteChange}):/*#__PURE__*/_jsx(Register,{onRouteChange:this.onRouteChange})]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["C:/Users/UsamaArain/Desktop/NodeJs/smartbrain/src/App.js"],"names":["React","Component","Navigation","Clarifai","Logo","Signin","Register","Rank","ImageLinkForm","Particles","ImageRecognition","config","app","App","apiKey","calculateFaceLocation","data","clarifaiFace","outputs","regions","region_info","bounding_box","image","document","getElementById","width","Number","height","leftCol","left_col","topRow","top_row","rightCol","right_col","bottomRow","bottom_row","displayFaceBox","box","console","log","setState","onInputChange","event","input","target","value","onButtonPress","imageUrl","state","models","predict","FACE_DETECT_MODEL","then","response","catch","err","onRouteChange","route","isSignedIn"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport './App.css';\r\nimport Navigation from './components/Navigation/Navigation';\r\nimport Clarifai from 'clarifai';\r\nimport Logo from './components/Logo/Logo';\r\nimport Signin from './components/Signin/Signin';\r\nimport Register from './components/Register/Register';\r\nimport Rank from './components/Rank/Rank';\r\nimport ImageLinkForm from './components/ImageLinkForm/ImageLinkForm';\r\nimport Particles from 'react-particles-js';\r\nimport ImageRecognition from './components/ImageRecognition/ImageRecognition';\r\n\r\nconst config = {\r\n  \"particles\":{\r\n    \"number\":{\r\n      \"value\":80,\r\n      \"density\":{\r\n        \"enable\":true,\r\n        \"value_area\":800\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\n//You must add your own API key here from Clarifai.\r\nconst app = new Clarifai.App({\r\n apiKey: '7ebc9459b3ef4a1da7ee52e6b32c58cb'\r\n});\r\n\r\nclass App extends Component {\r\n\r\n  constructor () {\r\n    super();\r\n\r\n    this.state = {\r\n      input: '',\r\n      imageUrl : '',\r\n      box: {},\r\n      route: 'signin',\r\n      isSignedIn: false\r\n    }\r\n  }\r\n\r\n  calculateFaceLocation = (data) => {\r\n    const clarifaiFace = data.outputs[0].data.regions[0].region_info.bounding_box;\r\n    const image = document.getElementById('inputimage');\r\n    const width = Number(image.width);\r\n    const height = Number(image.height);\r\n    return {\r\n      leftCol: clarifaiFace.left_col * width,\r\n      topRow: clarifaiFace.top_row * height,\r\n      rightCol: width - (clarifaiFace.right_col * width),\r\n      bottomRow: height - (clarifaiFace.bottom_row * height)\r\n    }\r\n  }\r\n\r\n  displayFaceBox = (box) => {\r\n    console.log(box);\r\n    this.setState({box: box});\r\n  }\r\n\r\n   onInputChange = (event) => {\r\n    this.setState({input: event.target.value});\r\n    // console.log(event.target.value)\r\n  }\r\n\r\n  onButtonPress =(event) => {\r\n    this.setState({imageUrl: this.state.input});\r\n    app.models\r\n      .predict(\r\n        // HEADS UP! Sometimes the Clarifai Models can be down or not working as they are constantly getting updated.\r\n        // A good way to check if the model you are using is up, is to check them on the clarifai website. For example,\r\n        // for the Face Detect Mode: https://www.clarifai.com/models/face-detection\r\n        // If that isn't working, then that means you will have to wait until their servers are back up. Another solution\r\n        // is to use a different version of their model that works like: `c0c0ac362b03416da06ab3fa36fb58e3`\r\n        // so you would change from:\r\n        // .predict(Clarifai.FACE_DETECT_MODEL, this.state.input)\r\n        // to:\r\n        // .predict('c0c0ac362b03416da06ab3fa36fb58e3', this.state.input)\r\n        Clarifai.FACE_DETECT_MODEL,\r\n        this.state.input)\r\n      .then(response => {\r\n        // console.log('hi', response.outputs[0].data.regions[0].region_info.bounding_box)\r\n        // if (response) {\r\n          // fetch('http://localhost:3000/image', {\r\n          //   method: 'put',\r\n          //   headers: {'Content-Type': 'application/json'},\r\n          //   body: JSON.stringify({\r\n          //     id: this.state.user.id\r\n          //   })\r\n          // })\r\n          //   .then(response => response.json())\r\n            // .then(count => {\r\n            //   this.setState(Object.assign(this.state.user, { entries: count}))\r\n            // })\r\n\r\n        // }\r\n        this.displayFaceBox(this.calculateFaceLocation(response))\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  onRouteChange = (route) => {\r\n    if (route === 'home') {\r\n      this.setState({isSignedIn: true})\r\n    }else if (route === 'signout') {\r\n      this.setState({isSignedIn:false})\r\n    }\r\n    this.setState({route: route})\r\n  }\r\n\r\n  render () {\r\n\r\n    const { isSignedIn, route, input, imageUrl, box } = this.state;\r\n\r\n    return (\r\n    <div className=\"App\">\r\n      <Particles className=\"particles\" \r\n        params ={config} />\r\n      <Navigation isSignedIn={isSignedIn} onRouteChange={this.onRouteChange}/>\r\n      {\r\n        route === 'home' ? \r\n        <div> \r\n            <Logo />\r\n            <Rank />\r\n            <ImageLinkForm onInputChange={this.onInputChange} onButtonPress={this.onButtonPress}/>\r\n            <ImageRecognition box={box} imageUrl={input}/>     \r\n        </div>\r\n        : (\r\n          route === 'signin' ? \r\n          <Signin onRouteChange={this.onRouteChange} />\r\n          : \r\n          <Register onRouteChange={this.onRouteChange} />\r\n        )\r\n      }\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}